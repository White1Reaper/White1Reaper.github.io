<!DOCTYPE html>
<html lang="ru">
<head>
	<link rel="stylesheet" href="https://white1reaper.github.io/index12.css">
	<link href="https://fonts.googleapis.com/css?family=Roboto:400,500&amp;subset=cyrillic" rel="stylesheet">
</head>
	<body>
	<script type="text/javascript">
;(function() {
	'use strict';

	class Gallery {
		// настройки по-умолчанию
		static defaults = {
			margin:			10,		// расстояние между элементами [px]
			visibleItems: 	1,		// сколько элементов показывать одновременно
			border:			0,		// толщина рамки изображения прописанная в CSS [px]
			responsive:		true,	// адаптивная галерея
			autoScroll:		false,	// автоматическое прокручивание
			interval: 		3000,	// задержка при автоматическом прокручивании [ms]
			nav:			true,	// показать/скрыть кнопки next/prev
			dots:			false,	// показать/скрыть постраничную навигацию
			keyControl: 	false,	// управление клавишами вправо / влево
			animated:		false,	// включение анимации
			baseTransition:	0.4,	// скорость анимации, при изменении CSS свойств
			delayTimer:		250,	// время задержки при resize страницы [ms]
			limit:			30		// ограничиваем перемещение крайних элементов [px]
		};
		static LEFT = 37;	// код клавиши 'стрелочка влево' 
		static RIGHT = 39;	// код клавиши 'стрелочка вправо'

		constructor(gallery, setup) {
			this.gallery = gallery;
			this.setup = setup;

			// контейнер в котором отображаются элементы галереи
			this.slider = this.gallery.querySelector('.slider');
			// контейнер, непосредственно в котором расположены элементы слайдера
			this.stage = this.gallery.querySelector('.stage');
			// элементы слайдера
			this.items = this.gallery.querySelectorAll('.stage > div');
			// количество элементов в слайдере
			this.count = this.items.length;

			this.current = 0;		// index координаты текущего элемента
			this.next = 0;			// index координаты следующего элемента
			this.pressed = false;	// указывает, что совершилось событие 'mousedown'
			this.start = 0;			// координата, с которой начато перетаскивание
			this.shift = 0;			// на сколько был перемещён курсор относительно start

			// построение галереи исходя из полученных настроек
			this.init();
		}

		// объединяет и перезаписывает значения двух объектов
		// и выдаёт общий результат
		static extend(out) {
			out = out || {};
			for (let i = 1; i < arguments.length; i++) {
				if (!arguments[i]) continue;
				for (let key in arguments[i]) {
					if (arguments[i].hasOwnProperty(key)) out[key] = arguments[i][key];
				}
			}
			return out;
		};

		// возвращает координату Х текущего положения
		// курсора или пальца
		static xpos(e) {
			// touch event
			// проверяем, сформирован ли список точек на текущем элементе
			// (список пальцев, которые вступили в контакт)
			if (e.targetTouches && (e.targetTouches.length >= 1)) {
				// положение первой точки прикосновения, относительно левого края браузера
				return e.targetTouches[0].clientX;
			}
			// mouse event
			return e.clientX;
		}

		init() {
			// объединяем дефолтные настройки с настройками галереи
			this.options = Gallery.extend({}, Gallery.defaults, this.setup);
			// формируем каркас галереи
			this.setSizeCarousel();
			// заполняем массив с координатами X каждого элемента слайдера
			this.setCoordinates();
			// формируем управление слайдером в зависимости от настроек
			this.initControl();
			// устанавливаем обработчики событий, если ещё не устанавливались
			if (this.events) return;
			this.registerEventsHandler();
		}

		setSizeCarousel() {
			// получаем ширину слайдера - вьюпорт, в котором прокручиваются элементы галереи
			this.widthSlider = this.slider.offsetWidth;

			// если разрешена адаптация галереи, то необходимо, используя свойство
			// 'options.adaptive', получить значения разрешений (контрольные точки),
			// при которых будут меняться количество видимых элементов галереи и
			// и другие её настройки
			if (this.options.responsive) this.setAdaptiveOptions();

			// максимальный индекс, который может быть у текущего элемента
			// чтобы на последней странице галереи при использовании пагинатора
			// наблюдалось кол-во элементов равное options.visibleItems
			this.max = this.count - this.options.visibleItems;

			// получаем ширину элемента слайдера, которая зависит от колличества
			// одновременно видимых элементов, размера отступа между элементами и
			// общей ширины слайдера
			// от ширины слайдера вычитаем сумму отступов
			// уменьшенную на 1, т.к. отступ последнего видимого элемента не попадает
			// в окно слайдера (контейнер '.stage')
			const width = (this.widthSlider - this.options.margin * (this.options.visibleItems - 1)) / this.options.visibleItems;

			// значение, по которому отсчитываются координаты
			// состоит из ширины элемента слайдера и его margin-right
			// другими словами - растоянием между левыми границами элементов слайдера
			this.width = width + this.options.margin;
			// ширина контейнера '.stage', непосредственно в котором
			// расположены элементы слайдера
			this.widths = this.width * this.count;
			// задаётся стиль ширины контейнера '.stage'
			this.stage.style.width = this.widths + 'px';
			// перебираем коллекцию элементов слайдера и
			// прописываем ширину и правый отступ для каждого элемента
			for (let item of this.items) {
				item.style.cssText = `width:${width}px; margin-right:${this.options.margin}px;`;
			}

			// после того, как каркас галереи построен, все размеры элементов
			// вычислены и прописаны в стилях, делаем карусель видимой через
			// свойство стиля 'visibility'
			setTimeout(() => { this.gallery.style.visibility = 'visible' }, 350);
		}

		setCoordinates() {
			// координата первого элемента, от неё и будет идти отсчёт
			let point = 0;
			// добавляем новое свойство в объект 'options'
			// пока это пустой массив
			this.coordinates = [];

			// заполняем в цикле массив пока количество его элементов
			// не станет равно количеству элементов слайдера,
			// т.е. будет записана координата X каждого элемента
			while (this.coordinates.length < this.count) {
				// добавляем в конец массива текущее значение переменной 'point'
				// которое равно координате X текущего элемента слайдера
				this.coordinates.push(point);
				// вычитаем из текущей координаты ширину блока, равную
				// сумме ширины элемента слайдера и отступа или другими
				// словами - расстояние между левыми границами элементов
				point -= this.width;
			}
		}
})();
			const setting = {
			setup1: {
				// включаем постраничную навигацию
				dots: true,
				// включаем управление с клавиатуры клавишами навигации "вправо / влево"
				keyControl: true,
				// настройки галереи в зависимости от разрешения
				adaptive: {
					// настройка работает в диапазоне разрешений 320-560px
					320: {
						// одновременно выводится 1 элемент
						visibleItems: 1,
						// расстояние между изображениями 5px
						margin: 5,
						// запрещаем постраничную навигацию
						dots: false
					},
					// настройка работает в диапазоне разрешений 560-768px
					560: {
						// одновременно выводится 1 элемент
						visibleItems: 2,
						// расстояние между изображениями 5px
						margin: 5,
						// запрещаем постраничную навигацию
						dots: false
					},
					// настройка работает в диапазоне разрешений 768-1024px
					768: {
						// одновременно выводятся 2 элемента
						visibleItems: 3,
					},
					// настройка работает в диапазоне разрешений 1024 и выше
					1024: {
						// одновременно выводятся 3 элемента
						visibleItems: 4
					}
				}
			},
			setup2: {
				// одновременно выводится 4 элемента
				visibleItems: 4,
				// разрешаем постраничную навигацию
				dots: true,
				// разрешаем управление с клавиатуры клавишами навигации "вправо / влево"
				keyControl: true,
				// выключаем адаптивность
				responsive: false
			}
		};
	</script>
<div class="wrap">
	<h1>Галерея</h1>
	<div class="gallery" data-setting="setup1">
		<div class="slider">
			<div class="stage">
				<div>
					<img src="https://s1.1zoom.ru/big3/984/Canada_Parks_Lake_Mountains_Forests_Scenery_Rocky_567540_3840x2400.jpg" alt="">
				</div>
				<div>
					<img src="https://img1.akspic.ru/attachments/crops/2/2/4/0/50422/50422-senokosnoye_ugodye-pole-selskoe_hozyajstvo-zakat-risovoe_pole-2560x1440.jpg" alt="">
				</div>
				<div>
					<img src="https://fikiwiki.com/uploads/posts/2022-02/1644855593_25-fikiwiki-com-p-kartinki-khd-kachestva-26.jpg" alt="">
				</div>
				<div>
					<img src="https://img1.akspic.ru/attachments/crops/1/7/1/2/0/102171/102171-peyzash-nebo-vodohranilishhe-priroda-fjord-1920x1080.jpg" alt="">
				</div>
				<div>
					<img src="https://mobimg.b-cdn.net/v3/fetch/fc/fc97db329bd4482025eaa1e3961dc80e.jpeg?w=1470&r=0.5625" alt="">
				</div>
				<div>
					<img src="https://img.fonwall.ru/o/94/goryi_sneg_verhushki_derevya_elki_25.jpg?route=mid&amp;h=750" alt="">
				</div>
				<div>
					<img src="https://img1.akspic.ru/attachments/crops/9/9/8/2/22899/22899-zamok_nojshvanshtajn-peyzash-doroga-senokosnoye_ugodye-pejzazhi_gor-1920x1080.jpg" alt="">
				</div>
				<div>
					<img src="https://answit.com/wp-content/uploads/2017/01/full-hd.jpg" alt="">
				</div>
				<div>
					<img src="https://catherineasquithgallery.com/uploads/posts/2021-02/1612678074_74-p-kartinka-fon-zelenii-lug-125.jpg" alt="">
				</div>
				<div>
					<img src="https://img.desktopwallpapers.ru/world/pics/wide/1920x1200/ec13dd5a2fb69efdb62c6b349de31e1f.jpg" alt="">
				</div>
				<div>
					<img src="https://mediasole.ru/data/images/412/412388/23stunning-landscape-view-argentina.jpg" alt="">
				</div>
				<div>
					<img src="https://get.wallhere.com/photo/spring-alpine-valley-mountains-fields-landscape-1012567.jpg" alt="">
				</div>
				<div>
					<img src="https://get.wallhere.com/photo/2048x1152-px-nature-rock-sunset-1054177.jpg" alt="">
				</div>
				<div>
					<img src="https://www.sunhome.ru/i/wallpapers/64/gornoe-ozero-v11.orig.jpg" alt="">
				</div>
				<div>
					<img src="https://www.desktopbackground.org/download/o/2014/07/09/790888_chrome-set-as-wallpapers-wallpapers-zone_7539x5031_h.jpg" alt="">
				</div>
				<div>
					<img src="https://w-dog.ru/wallpapers/9/8/549551266186127/kananaskis-alberta-kanada-nebo-oblaka-gory-les-derevya-el-priroda-zakat-ozero-vecher-kamni-otrazhenie.jpg" alt="">
				</div>
			</div>
		</div>
		<div class="control">
			<div class="nav-ctrl" data-hidden="false">
				<span class="prev" data-shift="prev">prev</span>
				<span class="next" data-shift="next">next</span>
			</div>
			<ul class="dots-ctrl" data-hidden="true"></ul>
		</div>
	</div>
</div>
 

	  </html>
